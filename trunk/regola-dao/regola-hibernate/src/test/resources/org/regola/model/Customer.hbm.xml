<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="org.regola.model"
	default-access="property">

	<class name="Customer">
		<id name="id" />
		<property name="firstName" />
		<property name="lastName" />
		<component name="address" class="Customer$Address">
			<property name="street" />
			<property name="city" />
		</component>
	</class>

	<query name="Customer.findByLastNameAndCity">
		<![CDATA[
			from Customer as c where c.lastName = ? and c.address.city = ?
		]]>
	</query>

	<!--	<query name="Customer.findByAddressCity">-->
	<!--		<![CDATA[-->
	<!--			from Customer as c where c.address = :address.city-->
	<!--		]]>-->
	<!--	</query>-->

	<query name="Customer.findByAddress">
		<![CDATA[
			from Customer as c where c.address = :address
		]]>
	</query>
</hibernate-mapping>