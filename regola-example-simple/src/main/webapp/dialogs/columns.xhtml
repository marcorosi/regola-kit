<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component">

<ui:composition>
	<ice:form>
		<ice:panelPopup draggable="#{columnsDlg.draggable}" 
						modal="#{columnsDlg.modal}" 
						rendered="true"
						visible="#{columnsDlg.visible}"
						style="z-index: 1000; top: 100px; left: 300px; position: absolute; width: 500px;">

			<f:facet name="header">
			  <ice:panelGrid width="100%" columns="1" styleClass="dialogHeader" title="#{msg['dialog.tooltip.header']}">
				<ice:outputText value="#{columnsDlg.title}" />
			  </ice:panelGrid>
			</f:facet>

			<f:facet name="body">
				<ice:panelGrid width="100%" columns="1" styleClass="dialogBody">

					<ice:panelGrid columns="2" width="100%" cellspacing="4" columnClasses="dialogColumn">
						
					<ice:panelGroup> 
						<ice:outputText value="#{msg['columns.visibleHeader']}" styleClass="columnsHeader" />
						<ice:panelPositioned var="column" 
											 id="visibleColumns"
											 value="#{columnsDlg.filter.visibleColumns}" 
											 listener="#{columnsDlg.onOrderChange}"
											 style="padding-top: 10px;"
											 constraint="vertical">
								<ice:panelGroup>
									<ice:commandButton image="images/remove.gif"
										partialSubmit="true"
										title="#{msg['columns.tooltip.remove']}"
										actionListener="#{columnsDlg.onRemoveColumn}">
										<f:attribute value="#{column.name}" name="name" />
									</ice:commandButton>
									<ice:outputText value="#{msg[column.label]}" 
												    title="#{msg['columns.tooltip.move']}" 
												    style="cursor:move;" />
								</ice:panelGroup>
						</ice:panelPositioned>						
					</ice:panelGroup>
						
					<ice:panelGroup> 						
						<ice:outputText value="#{msg['columns.invisibleHeader']}" styleClass="columnsHeader" />

						<ice:panelSeries var="column" value="#{columnsDlg.residualColumns}" style="padding-top: 10px;">
							<ice:panelGroup>
								<ice:commandButton image="images/add.gif"
									partialSubmit="true"
									title="#{msg['columns.tooltip.add']}"
									actionListener="#{columnsDlg.onAddColumn}">
									<f:attribute value="#{column.name}" name="name" />
								</ice:commandButton>
								<ice:outputText value="#{msg[column.label]}" />
							</ice:panelGroup>
						</ice:panelSeries>
					</ice:panelGroup>
					</ice:panelGrid>

					<ice:panelGroup styleClass="buttonGroup">
						<ice:commandButton id="OKColumnsDlg"
							actionListener="#{columnsDlg.closePopup}" 
							value="#{msg['button.ok']}" />
						<ice:commandButton id="CancelColumnsDlg"
							actionListener="#{columnsDlg.closePopup}" 
							value="#{msg['button.cancel']}" />
					</ice:panelGroup>
				</ice:panelGrid>
			</f:facet>

		</ice:panelPopup>
	</ice:form>
</ui:composition>
</html>
